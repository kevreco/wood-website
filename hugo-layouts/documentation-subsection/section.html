{{- define "versions" }}

	<h2>Versions</h2>

	{{- range .Parent.Sections -}}

	  {{- $pathWithVersion := path.Dir .File.Filename -}}
	 
	  {{- $version := path.Base $pathWithVersion -}}
		
		<a href="../{{ $version }}">{{ $version }}</a>
	{{ end }}
{{- end -}}

{{- define "table-of-contents" }}

	<h2>Table of Contents</h2>
 
	{{- range  sort .Pages "File.Path" -}}
	
		{{- .TableOfContents -}}

	{{- end -}}
	
{{- end -}}


{{- define "main" -}}

	{{- range  sort .Pages "File.Path" -}}
	   <p>
			{{/* This add an anchor next to all <h>.  */}}
			{{- .Content | replaceRE "(<h[1-9] id=\"([^\"]+)\".+)(</h[1-9]+>)" `${1} <a href="#${2}" class="h-anchor" ariaLabel="Anchor">ยง&#xFE0E;</a> ${3}` | safeHTML -}}
	   </p>
	{{- end -}}

{{- end -}}